{"version":3,"sources":["file:///D:/simatap_frontend/assets/scripts/PassiveIncomeModal.ts"],"names":["_decorator","Component","Node","Label","ccclass","property","PassiveIncomeModal","start","modalNode","active","closeNode","on","EventType","TOUCH_END","onCloseClicked","console","warn","show","income","incomeLabel","string","hide","event"],"mappings":";;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;;;;0FAFtC;;;;;OAGM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;oCAGjBM,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACF,KAAD,C,UAGRE,QAAQ,CAACH,IAAD,C,UAGRG,QAAQ,CAACH,IAAD,C,2BARb,MACaI,kBADb,SACwCL,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAEnB;AAFmB;;AAKtB;AALsB;AAAA;;AAQtB;AAExBM,QAAAA,KAAK,GAAG;AACJ;AACA,cAAI,KAAKC,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeC,MAAf,GAAwB,KAAxB;AACH,WAJG,CAMJ;;;AACA,cAAI,KAAKC,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeC,EAAf,CAAkBT,IAAI,CAACU,SAAL,CAAeC,SAAjC,EAA4C,KAAKC,cAAjD,EAAiE,IAAjE;AACH,WAFD,MAEO;AACHC,YAAAA,OAAO,CAACC,IAAR,CAAa,6CAAb;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACIC,QAAAA,IAAI,CAACC,MAAD,EAAiB;AACjB,cAAI,KAAKC,WAAL,IAAoB,KAAKX,SAA7B,EAAwC;AACpC,iBAAKW,WAAL,CAAiBC,MAAjB,GAA2B,KAAIF,MAAO,EAAtC;AACA,iBAAKV,SAAL,CAAeC,MAAf,GAAwB,IAAxB;AACH;AACJ;AAED;AACJ;AACA;;;AACIY,QAAAA,IAAI,GAAG;AACH,cAAI,KAAKb,SAAT,EAAoB;AAChB,iBAAKA,SAAL,CAAeC,MAAf,GAAwB,KAAxB;AACH;AACJ;AAED;AACJ;AACA;;;AACIK,QAAAA,cAAc,CAACQ,KAAD,EAAoB;AAC9B,eAAKD,IAAL;AACH;;AAjD6C,O;;;;;iBAEzB,I;;;;;;;iBAGH,I;;;;;;;iBAGA,I","sourcesContent":["// assets/scripts/PassiveIncomeModal.ts\r\n\r\nimport { _decorator, Component, Node, Label, EventTouch } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PassiveIncomeModal')\r\nexport class PassiveIncomeModal extends Component {\r\n    @property(Label)\r\n    incomeLabel: Label = null; // Метка для отображения количества монет\r\n\r\n    @property(Node)\r\n    modalNode: Node = null; // Узел модального окна\r\n\r\n    @property(Node)\r\n    closeNode: Node = null; // Узел со спрайтом для закрытия окна\r\n\r\n    start() {\r\n        // Скрываем модальное окно при старте\r\n        if (this.modalNode) {\r\n            this.modalNode.active = false;\r\n        }\r\n\r\n        // Добавляем обработчик нажатия на узел со спрайтом\r\n        if (this.closeNode) {\r\n            this.closeNode.on(Node.EventType.TOUCH_END, this.onCloseClicked, this);\r\n        } else {\r\n            console.warn('closeNode не назначен в PassiveIncomeModal.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Показывает модальное окно с информацией о пассивном доходе\r\n     * @param income Количество заработанных монет\r\n     */\r\n    show(income: number) {\r\n        if (this.incomeLabel && this.modalNode) {\r\n            this.incomeLabel.string = `+ ${income}`;\r\n            this.modalNode.active = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Закрывает модальное окно\r\n     */\r\n    hide() {\r\n        if (this.modalNode) {\r\n            this.modalNode.active = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Обработчик нажатия на узел со спрайтом для закрытия модального окна\r\n     */\r\n    onCloseClicked(event: EventTouch) {\r\n        this.hide();\r\n    }\r\n}\r\n"]}