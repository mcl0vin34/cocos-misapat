{"version":3,"sources":["file:///D:/simatap_frontend/assets/scripts/FloatingText.ts"],"names":["_decorator","Component","Label","Vec3","Color","tween","ccclass","property","FloatingText","start","label","getComponent","getComponentInChildren","color","r","g","b","to","duration","node","by","position","moveUpDistance","call","destroy"],"mappings":";;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;;;;;oFAFpD;;;;;OAGM;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,2BAAR,MACaE,YADb,SACkCP,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAEhB;AAFgB;AAAA;;AAKV;AAE9BQ,QAAAA,KAAK,GAAG;AACJ,cAAMC,KAAK,GAAG,KAAKC,YAAL,CAAkBT,KAAlB,KAA4B,KAAKU,sBAAL,CAA4BV,KAA5B,CAA1C;;AACA,cAAI,CAACQ,KAAL,EAAY;AACR;AACH;;AAEDA,UAAAA,KAAK,CAACG,KAAN,GAAc,IAAIT,KAAJ,CAAUM,KAAK,CAACG,KAAN,CAAYC,CAAtB,EAAyBJ,KAAK,CAACG,KAAN,CAAYE,CAArC,EAAwCL,KAAK,CAACG,KAAN,CAAYG,CAApD,EAAuD,GAAvD,CAAd;AAEAX,UAAAA,KAAK,CAACK,KAAD,CAAL,CACKO,EADL,CACQ,KAAKC,QADb,EACuB;AAAEL,YAAAA,KAAK,EAAE,IAAIT,KAAJ,CAAUM,KAAK,CAACG,KAAN,CAAYC,CAAtB,EAAyBJ,KAAK,CAACG,KAAN,CAAYE,CAArC,EAAwCL,KAAK,CAACG,KAAN,CAAYG,CAApD,EAAuD,CAAvD;AAAT,WADvB,EAEKP,KAFL;AAIAJ,UAAAA,KAAK,CAAC,KAAKc,IAAN,CAAL,CACKC,EADL,CACQ,KAAKF,QADb,EACuB;AAAEG,YAAAA,QAAQ,EAAE,IAAIlB,IAAJ,CAAS,CAAT,EAAY,KAAKmB,cAAjB,EAAiC,CAAjC;AAAZ,WADvB,EAEKC,IAFL,CAEU,MAAM;AACR,iBAAKJ,IAAL,CAAUK,OAAV;AACH,WAJL,EAKKf,KALL;AAMH;;AAzBuC,O,2EACvCF,Q;;;;;iBACkB,G;;yFAElBA,Q;;;;;iBACwB,G","sourcesContent":["// assets/scripts/FloatingText.ts\r\n\r\nimport { _decorator, Component, Label, Vec3, Color, tween, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FloatingText')\r\nexport class FloatingText extends Component {\r\n    @property\r\n    duration: number = 1.5; // Продолжительность анимации в секундах\r\n\r\n    @property\r\n    moveUpDistance: number = 300; // Расстояние, на которое текст будет подниматься\r\n\r\n    start() {\r\n        const label = this.getComponent(Label) || this.getComponentInChildren(Label);\r\n        if (!label) {\r\n            return;\r\n        }\r\n\r\n        label.color = new Color(label.color.r, label.color.g, label.color.b, 255);\r\n\r\n        tween(label)\r\n            .to(this.duration, { color: new Color(label.color.r, label.color.g, label.color.b, 0) })\r\n            .start();\r\n\r\n        tween(this.node)\r\n            .by(this.duration, { position: new Vec3(0, this.moveUpDistance, 0) })\r\n            .call(() => {\r\n                this.node.destroy();\r\n            })\r\n            .start();\r\n    }\r\n}\r\n"]}