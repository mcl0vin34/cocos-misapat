{"version":3,"sources":["file:///C:/GitHub/cocos-misapat/assets/scripts/TabBarController.ts"],"names":["_decorator","Component","Node","Label","Color","tween","UIOpacity","Vec3","ccclass","property","TabBarController","currentTab","onLoad","checkProperties","showPage","iconHome","on","EventType","TOUCH_END","iconFriends","iconStore","iconLeaders","iconTasks","properties","name","value","mainPage","friendsPage","storePage","leadersPage","tasksPage","textHome","textFriends","textStore","textLeaders","textTasks","buttonHome","buttonFriends","buttonLeaders","buttonTasks","activeButton","forEach","prop","console","warn","pageName","animate","log","hidePage","showNewPage","updateTabUI","pageNode","getPageNode","uiOpacity","getComponent","addComponent","to","scale","start","opacity","call","active","setScale","error","activePage","color","GRAY","WHITE"],"mappings":"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","sourcesContent":["// assets/scripts/TabBarController.ts\r\n\r\nimport {\r\n  _decorator,\r\n  Component,\r\n  Node,\r\n  Label,\r\n  Color,\r\n  tween,\r\n  UIOpacity,\r\n  Vec3,\r\n} from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"TabBarController\")\r\nexport class TabBarController extends Component {\r\n  // Ссылки на страницы\r\n  @property(Node)\r\n  mainPage: Node = null;\r\n\r\n  @property(Node)\r\n  friendsPage: Node = null;\r\n\r\n  @property(Node)\r\n  storePage: Node = null;\r\n\r\n  @property(Node)\r\n  leadersPage: Node = null;\r\n\r\n  @property(Node)\r\n  tasksPage: Node = null;\r\n\r\n  // Ссылки на иконки вкладок\r\n  @property(Node)\r\n  iconHome: Node = null;\r\n\r\n  @property(Node)\r\n  iconFriends: Node = null;\r\n\r\n  @property(Node)\r\n  iconStore: Node = null;\r\n\r\n  @property(Node)\r\n  iconLeaders: Node = null;\r\n\r\n  @property(Node)\r\n  iconTasks: Node = null;\r\n\r\n  // Ссылки на текстовые метки вкладок\r\n  @property(Label)\r\n  textHome: Label = null;\r\n\r\n  @property(Label)\r\n  textFriends: Label = null;\r\n\r\n  @property(Label)\r\n  textStore: Label = null;\r\n\r\n  @property(Label)\r\n  textLeaders: Label = null;\r\n\r\n  @property(Label)\r\n  textTasks: Label = null;\r\n\r\n  // Ссылки на индикаторы вкладок\r\n  @property(Node)\r\n  buttonHome: Node = null;\r\n\r\n  @property(Node)\r\n  buttonFriends: Node = null;\r\n\r\n  @property(Node)\r\n  buttonLeaders: Node = null;\r\n\r\n  @property(Node)\r\n  buttonTasks: Node = null;\r\n\r\n  // Визуальный индикатор активной вкладки \"Магазин\"\r\n  @property(Node)\r\n  activeButton: Node = null;\r\n\r\n  // Текущая активная вкладка\r\n  private currentTab: string = \"none\"; // Изменено с 'home' на 'none'\r\n\r\n  onLoad() {\r\n    // Проверка всех свойств на null и логирование\r\n    this.checkProperties();\r\n\r\n    // Инициализация: показать главную страницу без анимации\r\n    this.showPage(\"home\", false);\r\n\r\n    // Присоединение обработчиков событий к иконкам вкладок\r\n    this.iconHome.on(Node.EventType.TOUCH_END, () => {\r\n      this.showPage(\"home\", true);\r\n    });\r\n\r\n    this.iconFriends.on(Node.EventType.TOUCH_END, () => {\r\n      this.showPage(\"friends\", true);\r\n    });\r\n\r\n    this.iconStore.on(Node.EventType.TOUCH_END, () => {\r\n      this.showPage(\"store\", true);\r\n    });\r\n\r\n    this.iconLeaders.on(Node.EventType.TOUCH_END, () => {\r\n      this.showPage(\"leaders\", true);\r\n    });\r\n\r\n    this.iconTasks.on(Node.EventType.TOUCH_END, () => {\r\n      this.showPage(\"tasks\", true);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Проверяет все свойства на null и выводит предупреждения в консоль\r\n   */\r\n  private checkProperties() {\r\n    const properties = [\r\n      { name: \"mainPage\", value: this.mainPage },\r\n      { name: \"friendsPage\", value: this.friendsPage },\r\n      { name: \"storePage\", value: this.storePage },\r\n      { name: \"leadersPage\", value: this.leadersPage },\r\n      { name: \"tasksPage\", value: this.tasksPage },\r\n      { name: \"iconHome\", value: this.iconHome },\r\n      { name: \"iconFriends\", value: this.iconFriends },\r\n      { name: \"iconStore\", value: this.iconStore },\r\n      { name: \"iconLeaders\", value: this.iconLeaders },\r\n      { name: \"iconTasks\", value: this.iconTasks },\r\n      { name: \"textHome\", value: this.textHome },\r\n      { name: \"textFriends\", value: this.textFriends },\r\n      { name: \"textStore\", value: this.textStore },\r\n      { name: \"textLeaders\", value: this.textLeaders },\r\n      { name: \"textTasks\", value: this.textTasks },\r\n      { name: \"buttonHome\", value: this.buttonHome },\r\n      { name: \"buttonFriends\", value: this.buttonFriends },\r\n      { name: \"buttonLeaders\", value: this.buttonLeaders },\r\n      { name: \"buttonTasks\", value: this.buttonTasks },\r\n      { name: \"activeButton\", value: this.activeButton },\r\n    ];\r\n\r\n    properties.forEach((prop) => {\r\n      if (!prop.value) {\r\n        console.warn(\r\n          `Property \"${prop.name}\" is not assigned in the inspector.`\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Переключает видимую страницу и обновляет состояние вкладок\r\n   * @param pageName - имя страницы ('home', 'friends', 'store', 'leaders', 'tasks')\r\n   * @param animate - показывать ли анимацию при переключении\r\n   */\r\n  showPage(pageName: string, animate: boolean = true) {\r\n    if (pageName === this.currentTab) return;\r\n\r\n    console.log(\r\n      `Switching to page: ${pageName} from currentTab: ${this.currentTab}`\r\n    );\r\n\r\n    // Скрыть текущую страницу с анимацией\r\n    if (this.currentTab !== \"none\") {\r\n      this.hidePage(this.currentTab, animate);\r\n    }\r\n\r\n    // Показать новую страницу с анимацией\r\n    this.showNewPage(pageName, animate);\r\n\r\n    // Обновить состояние вкладок\r\n    this.updateTabUI(pageName);\r\n\r\n    // Обновить текущую вкладку\r\n    this.currentTab = pageName;\r\n  }\r\n\r\n  /**\r\n   * Скрывает указанную страницу\r\n   * @param pageName - имя страницы для скрытия\r\n   * @param animate - использовать ли анимацию\r\n   */\r\n  hidePage(pageName: string, animate: boolean) {\r\n    const pageNode = this.getPageNode(pageName);\r\n    if (pageNode) {\r\n      let uiOpacity = pageNode.getComponent(UIOpacity);\r\n      if (!uiOpacity) {\r\n        console.warn(\r\n          `UIOpacity component not found on \"${pageName}\" page. Adding one.`\r\n        );\r\n        uiOpacity = pageNode.addComponent(UIOpacity);\r\n      }\r\n\r\n      if (animate) {\r\n        // Анимация уменьшения масштаба\r\n        tween(pageNode)\r\n          .to(0.3, { scale: new Vec3(0.95, 0.95, 1) })\r\n          .start();\r\n\r\n        // Анимация уменьшения прозрачности\r\n        tween(uiOpacity)\r\n          .to(0.3, { opacity: 0 })\r\n          .call(() => {\r\n            pageNode.active = false;\r\n            // Возвращаем исходный масштаб и прозрачность для будущих показов\r\n            pageNode.setScale(1, 1, 1);\r\n            uiOpacity.opacity = 255;\r\n            console.log(`Page \"${pageName}\" скрыта.`);\r\n          })\r\n          .start();\r\n      } else {\r\n        pageNode.active = false;\r\n        uiOpacity.opacity = 255;\r\n        console.log(`Page \"${pageName}\" скрыта без анимации.`);\r\n      }\r\n    } else {\r\n      console.error(`Page node for \"${pageName}\" not found.`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Показывает указанную страницу\r\n   * @param pageName - имя страницы для показа\r\n   * @param animate - использовать ли анимацию\r\n   */\r\n  showNewPage(pageName: string, animate: boolean) {\r\n    const pageNode = this.getPageNode(pageName);\r\n    if (pageNode) {\r\n      pageNode.active = true;\r\n      let uiOpacity = pageNode.getComponent(UIOpacity);\r\n      if (!uiOpacity) {\r\n        console.warn(\r\n          `UIOpacity component not found on \"${pageName}\" page. Adding one.`\r\n        );\r\n        uiOpacity = pageNode.addComponent(UIOpacity);\r\n      }\r\n\r\n      if (animate) {\r\n        // Устанавливаем начальные параметры для анимации\r\n        uiOpacity.opacity = 0;\r\n        pageNode.setScale(0.95, 0.95, 1);\r\n\r\n        // Анимация увеличения прозрачности\r\n        tween(uiOpacity).to(0.3, { opacity: 255 }).start();\r\n\r\n        // Анимация увеличения масштаба\r\n        tween(pageNode)\r\n          .to(0.3, { scale: new Vec3(1.05, 1.05, 1) })\r\n          .to(0.3, { scale: new Vec3(1, 1, 1) })\r\n          .call(() => {\r\n            console.log(`Page \"${pageName}\" показана.`);\r\n          })\r\n          .start();\r\n      } else {\r\n        uiOpacity.opacity = 255;\r\n        pageNode.setScale(1, 1, 1);\r\n        console.log(`Page \"${pageName}\" показана без анимации.`);\r\n      }\r\n    } else {\r\n      console.error(`Page node for \"${pageName}\" not found.`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Возвращает ноду страницы по имени\r\n   * @param pageName - имя страницы\r\n   */\r\n  getPageNode(pageName: string): Node | null {\r\n    switch (pageName) {\r\n      case \"home\":\r\n        return this.mainPage;\r\n      case \"friends\":\r\n        return this.friendsPage;\r\n      case \"store\":\r\n        return this.storePage;\r\n      case \"leaders\":\r\n        return this.leadersPage;\r\n      case \"tasks\":\r\n        return this.tasksPage;\r\n      default:\r\n        console.warn(`Unknown page: ${pageName}`);\r\n        return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Обновляет UI вкладок (цвет текста и индикаторы)\r\n   * @param activePage - имя активной страницы\r\n   */\r\n  updateTabUI(activePage: string) {\r\n    // Сбросить все цвета текстов на серый\r\n    this.textHome.color = Color.GRAY;\r\n    this.textFriends.color = Color.GRAY;\r\n    this.textStore.color = Color.GRAY;\r\n    this.textLeaders.color = Color.GRAY;\r\n    this.textTasks.color = Color.GRAY;\r\n\r\n    // Скрыть все индикаторы\r\n    this.activeButton.active = false;\r\n    this.buttonHome.active = false;\r\n    this.buttonFriends.active = false;\r\n    this.buttonLeaders.active = false;\r\n    this.buttonTasks.active = false;\r\n\r\n    switch (activePage) {\r\n      case \"home\":\r\n        this.textHome.color = Color.WHITE;\r\n        this.buttonHome.active = true;\r\n        break;\r\n      case \"friends\":\r\n        this.textFriends.color = Color.WHITE;\r\n        this.buttonFriends.active = true;\r\n        break;\r\n      case \"store\":\r\n        this.textStore.color = Color.WHITE;\r\n        this.activeButton.active = true;\r\n        break;\r\n      case \"leaders\":\r\n        this.textLeaders.color = Color.WHITE;\r\n        this.buttonLeaders.active = true;\r\n        break;\r\n      case \"tasks\":\r\n        this.textTasks.color = Color.WHITE;\r\n        this.buttonTasks.active = true;\r\n        break;\r\n    }\r\n  }\r\n}\r\n"]}